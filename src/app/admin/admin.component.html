<p>
  admin works!
</p>

<ul *ngIf="profiles?.length > 0;else noProfiles">
  <li *ngFor="let profile of profiles">
    <div>
      {{ profile.firstName }} {{ profile.lastName }}
      {{ profile | json }}
    </div>
    <br>
    <a (click)="editProfile($event, profile)">Edit</a>
    <div *ngIf="editState && profileToEdit.userId == profile.userId">
      <hr>
      <!-- <form #editProfileForm="ngForm" (ngSubmit)="updateProfile($event, profile)"> -->
      <form #editProfileForm="ngForm" (ngSubmit)="updateDoc($event, profile)">
        <div class="form-group">
          <label for="firstName">Nombre</label>
          <input type="text" class="form-control" id="firstName" name="firstName" [(ngModel)]="profile.firstName" required>
        </div>
        <div class="form-group">
          <label for="lastName">Apellido</label>
          <input type="text" class="form-control" id="lastName" name="lastName" [(ngModel)]="profile.lastName" required>
        </div>
        <div class="form-group">
          <label for="phoneNumber">Celular</label>
          <input type="number" class="form-control" id="phoneNumber" name="phoneNumber" [(ngModel)]="profile.phoneNumber" required>
        </div>
        <div class="form-group">
          <label for="email">email</label>
          <input type="email" class="form-control" id="email" name="email" [(ngModel)]="profile.email" required>
        </div>
        <div class="form-group">
          <label for="email">rol</label>
          <select class="form-control" id="role" name="role" [(ngModel)]="profile.role" required>
            <option *ngFor="let role of allRoles" [ngValue]="role">
              {{role.name}}
            </option>
          </select>
        </div>
        <button type="submit" class="btn btn-success" >Actualizar</button>
      </form>
    </div>
  </li>
</ul>

<ng-template #noProfiles>
  <hr>
  <h5>Loading</h5>
</ng-template>
<router-outlet></router-outlet>
